{"version":3,"sources":["components/shop-header/index.js","components/shop-header/shop-header.js","components/item/index.js","components/item/item.js","components/store-service-context/store-service-context.js","components/hoc/with-store-service.js","actions/index.js","utils/compose.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/spinner/index.js","components/spinner/spinner.js","components/item-list/item-list.js","components/item-list/index.js","components/pages/home-page.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/cart-page.js","components/item-details/item-details.js","components/item-details/index.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/store-service.js","reducers/item-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["ShopHeader","connect","_ref2","_ref2$shoppingCart","shoppingCart","totalItems","total","orderTotal","numItems","_ref","react_default","a","createElement","className","Link","to","Item","item","onAddedToCart","title","author","price","img","id","Fragment","src","alt","concat","onClick","React","createContext","StoreServiceProvider","Provider","StoreServiceConsumer","Consumer","withStoreService","Wrapped","props","storeService","Object","assign","itemAddedToCart","itemId","type","payload","fetchItems","dispatch","getItems","then","data","catch","err","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","ErrorIndicator","Spinner","ItemList","items","map","key","components_item","ItemListContainer","this","_this$props","loading","error","components_spinner","components_error_indicator","item_list_ItemList","Component","_ref2$itemList","itemList","_ref3","HomePage","components_item_list","mapDispatchToProps","onIncrease","onDecraese","onDelete","cartItems","idx","count","CartPage","shopping_cart_table_shopping_cart_table","Detail","field","label","itemTag","ItemDetails","objectWithoutProperties","console","log","Children","children","child","cloneElement","ItemDetailsContainer","fetchBooks","item_details_ItemDetails","item_details_Detail","_ref3$itemList","_ref4","App","role","components_shop_header","Switch","Route","path","render","match","params","components_item_details","exact","component","ErrorBoundry","state","hasError","setState","_this","Promise","resolve","setTimeout","updateItemList","action","undefined","updateCartItems","cartItem","toConsumableArray","slice","updateOrder","quantity","find","itemIndex","findIndex","newItem","_cartItem$id","_cartItem$count","_cartItem$title","_cartItem$total","updateCartItem","updateShoppingCart","reducer","store","createStore","DATA","ReactDOM","es","error_boundry","value","HashRouter","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.775de4ae.chunk.js","sourcesContent":["import ShopHeader from './shop-header';\n\nexport default ShopHeader;","import React from 'react';\nimport './shop-header.css';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link className=\"logo\" to=\"/#\">OLD Game</Link>\n      <Link className=\"shopping-cart\" to='/cart'>\n        <i className=\"cart-icon fa fa-shopping-cart\" /> \n        (${total}) <br/> \n        {numItems} items \n      </Link>\n    </header>\n  );\n};\n\nconst mapStateToProps = ({shoppingCart: { totalItems, orderTotal }}) => {\n  return {\n    total: orderTotal,\n    numItems: totalItems\n  };\n};\n\nconst mapDispatchToProps = {\n\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(ShopHeader);\n","import Item from './item';\n\nexport default Item;\n","import React from 'react';\nimport './item.css';\nimport { Link } from 'react-router-dom';\n\nconst Item = ({ item, onAddedToCart }) => {\n  const { title, author, price, img, id } = item;\n  return (\n    <React.Fragment>\n        <img src={img} alt=\"game\" />\n      <div className=\"item-details\">\n        <Link to={`/itemdetails/${id}`} className=\"item-title\">{title}</Link>\n        <div className=\"item-author\">{author}</div>\n        <div className=\"item-price\">${price}</div>\n        <button\n          onClick={onAddedToCart}\n          className=\"btn btn-warning add-to-cart\">\n          Add to cart\n        </button>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Item;\n","import React from 'react';\n\nconst {\n  Provider: StoreServiceProvider,\n  Consumer: StoreServiceConsumer\n} = React.createContext();\n\nexport {\n  StoreServiceProvider,\n  StoreServiceConsumer\n};\n","import React from 'react';\nimport { StoreServiceConsumer } from '../store-service-context/';\n\nconst withStoreService = () => (Wrapped) => {\n\n  return (props) => {\n    return (\n      <StoreServiceConsumer>\n        {\n          (storeService) => {\n            return (<Wrapped {...props}\n              storeService={storeService} />);\n          }\n        }\n      </StoreServiceConsumer>\n    );\n  }\n};\n\nexport default withStoreService;\n","\nconst itemsLoaded = (newItem) => { \n  return {\n    type: 'FETCH_ITEM_SUCCESS',// [request_type]_[object]_[action]\n    payload: newItem\n  };\n};\n\nconst itemsRequested = () => {\n  return {\n    type: 'FETCH_ITEM_REQUEST'\n  };\n};\n\nconst itemsError = (error) => {\n  return {\n    type: 'FETCH_ITEM_FAILURE',\n    payload: error\n  };\n};\n\nexport const itemAddedToCart = (itemId) => {\n  return {\n    type: 'ITEM_ADDED_TO_CART',\n    payload: itemId\n  };\n};\n\nexport const itemRemovedFromCart = (itemId) => {\n  return {\n    type: 'ITEM_REMOVED_FROM_CART',\n    payload: itemId\n  };\n};\n\nexport const allItemsRemovedFromCart = (itemId) => {\n  return {\n    type: 'ALL_ITEMS_REMOVED_FROM_CART',\n    payload: itemId\n  };\n};\n\nconst fetchItems = (storeService, dispatch) => () => {\n  dispatch(itemsRequested());\n  storeService.getItems()\n    .then((data) => dispatch(itemsLoaded(data)))\n    .catch((err) => dispatch(itemsError(err)));\n};\n\nexport {\n  fetchItems\n};\n","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;\n","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return <div>404 not found!</div>;\n};\n\nexport default ErrorIndicator;\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return <div>loading...</div>;\n};\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport Item from '../item';\nimport { connect } from 'react-redux';\n\nimport { withStoreService } from '../hoc';\nimport { fetchItems, itemAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\nimport ErrorIndicator from '../error-indicator';\nimport Spinner from '../spinner';\n\nimport './item-list.css';\n\nconst ItemList = ({ items, onAddedToCart }) => {\n  return (\n    <div className=\"item-list\">\n      {\n        items.map((item) => {\n          return (\n            <div key={item.id} className=\"preview-item\">\n              <Item\n                onAddedToCart={() => onAddedToCart(item.id)}\n                item={item} />\n            </div>\n          )\n        })\n      }\n    </div>\n  );\n}\n\n\nclass ItemListContainer extends Component {\n\n  componentDidMount() {\n    this.props.fetchItems();\n  }\n\n  render() {\n    const { items, loading, error, onAddedToCart} = this.props;\n\n    if (loading) {\n      return <Spinner />\n    }\n\n    if (error) {\n      return <ErrorIndicator />\n    }\n\n    return (\n      <ItemList\n        onAddedToCart={onAddedToCart}\n        items={items} />\n    );\n  }\n}\n\nconst mapStateToProps = ({ itemList: { items, loading, error }}) => {\n  return { items, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { storeService }) => {\n  return {\n    fetchItems: fetchItems(storeService, dispatch),\n    onAddedToCart: (id) => dispatch(itemAddedToCart(id))\n  };\n};\n\nexport default compose(\n  withStoreService(),\n  connect(mapStateToProps, mapDispatchToProps)\n)(ItemListContainer);\n","import ItemList from './item-list';\n\nexport default ItemList;\n","import React from 'react';\nimport ItemListContainer from '../item-list';\n\nconst HomePage = () => {\n  return (\n    <React.Fragment>\n      <ItemListContainer />\n    </React.Fragment>\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\nimport './shopping-cart-table.css';\nimport { connect } from 'react-redux';\n\nimport {\n  itemAddedToCart,\n  itemRemovedFromCart,\n  allItemsRemovedFromCart } from '../../actions';\n\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecraese, onDelete }) => {\n  const renderRow = (item, idx) => {\n    const { id, title, count, total } = item;\n    return (\n      <tr key={id}>\n        <td>{idx+1}</td>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{'$'+total}</td>\n        <td>\n          <button\n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-danger btn-sm float-right\">\n            <i className=\"fa fa-trash\" />\n          </button>\n          <button\n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-sm float-right\">\n            <i className=\"fa fa-plus\" />\n          </button>\n          <button\n            onClick={() => onDecraese(id)}\n            className=\"btn btn-outline-warning btn-sm float-right\">\n            <i className=\"fa fa-minus\" />\n          </button>\n        </td>\n      </tr>\n    )\n  }\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {items.map(renderRow)}\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: {'$' + total}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({shoppingCart: { cartItems, orderTotal }}) => {\n  return {\n    items: cartItems,\n    total: orderTotal\n  };\n};\n\nconst mapDispatchToProps = {\n    onIncrease: itemAddedToCart,\n    onDecraese: itemRemovedFromCart,\n    onDelete: allItemsRemovedFromCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import React from 'react';\nimport ShoppingCartTable from '../shopping-cart-table/shopping-cart-table';\n\nconst CartPage = () => {\n  return <ShoppingCartTable/>\n};\n\nexport default CartPage;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { withStoreService } from '../hoc';\nimport { fetchItems, itemAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\nimport ErrorIndicator from '../error-indicator';\nimport Spinner from '../spinner';\n\nimport './item-details.css';\n\nconst Detail = ({ item, field, label, itemTag }) => {\n    return (\n        React.createElement(itemTag, null, `${label} ${item[field]}`)\n    );\n};\n\nconst ItemDetails = ({ items, itemId, onAddedToCart, ...props }) => {\n    const item = items[itemId-1];\n    console.log(item);\n    const { title, img } = item;\n    return (\n        <div className='preview-item-details'>\n            <img src={img} alt=\"game\" className='item-details-img' />\n            <div className='item-details'>\n                <h4>{title}</h4>\n                {\n                    React.Children.map(props.children, (child) => {\n                        return React.cloneElement(child, { item });\n                    })\n                }\n                <button\n                    onClick={() => onAddedToCart(item.id)}\n                    className=\"btn btn-warning add-to-cart\">\n                    Add to cart\n                </button>\n            </div>\n        </div>\n    );\n}\n\n\nclass ItemDetailsContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.fetchBooks();\n    }\n\n    render() {\n        const { items, itemId, loading, error, onAddedToCart } = this.props;\n        if (loading) {\n            return <Spinner />\n        }\n\n        if (error) {\n            return <ErrorIndicator />\n        }\n\n        return (\n            <React.Fragment>\n                <ItemDetails\n                    onAddedToCart={onAddedToCart}\n                    itemId={itemId}\n                    items={items}>\n\n                    <Detail itemTag='span' label='Price: $' field='price' /><br />\n                    <Detail itemTag='span' label='Author: ' field='author' />\n                </ItemDetails>\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = ({ itemList: { items, loading, error } }) => {\n    return { items, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { storeService }) => {\n    return {\n        fetchBooks: fetchItems(storeService, dispatch),\n        onAddedToCart: (id) => dispatch(itemAddedToCart(id))\n    };\n};\n\nexport default compose(\n    withStoreService(),\n    connect(mapStateToProps, mapDispatchToProps)\n)(ItemDetailsContainer);\n","import ItemDetailsContainer from './item-details';\n\nexport default ItemDetailsContainer;\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ShopHeader from '../shop-header';\nimport { HomePage, CartPage } from '../pages';\nimport ItemDetailsContainer from '../item-details';\nimport './app.css';\n\nconst App = () => {\n  return (\n    <main role=\"main\" className=\"container\">\n      <ShopHeader />\n      <Switch>\n        <Route path=\"/itemdetails/:id\"\n          render={({ match }) => {\n            const { id } = match.params;\n            return <ItemDetailsContainer itemId={id} />\n          }} exact />\n\n        <Route\n          path=\"/\"\n          component={HomePage}\n          exact />\n\n        <Route\n          path=\"/cart\"\n          component={CartPage}\n        />\n      </Switch>\n    </main>\n  );\n};\n\nexport default App;\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundry extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}","\nexport default class storeService {\n  data = [\n    {\n      id: 1,\n      title: 'Crash Bandicoot',\n      author: 'Naughty Dog',\n      price: 32,\n      img: 'https://upload.wikimedia.org/wikipedia/ru/6/68/Crash_Bandicoot_front_NTSC_cover.png'\n    },\n    {\n      id: 2,\n      title: 'Spyro the Dragon',\n      author: '\tInsomniac Games',\n      price: 45,\n      img: 'https://upload.wikimedia.org/wikipedia/ru/7/76/250px-SpyrotheDragon.jpg'\n    },\n    {\n      id: 3,\n      title: 'Final Fantasy VII',\n      author: 'Square Co Ltd.',\n      price: 35,\n      img: 'https://upload.wikimedia.org/wikipedia/ru/3/3d/Final_Fantasy_VII_NA_cover.jpg'\n    },\n    {\n      id: 4,\n      title: 'Tarzan',\n      author: 'Disney Interactive',\n      price: 40,\n      img: 'https://upload.wikimedia.org/wikipedia/en/9/9f/Tarzan_PlayStation.jpg'\n    },\n    {\n      id: 5,\n      title: 'Resident Evil 3',\n      author: 'Capcom',\n      price: 42,\n      img: 'https://upload.wikimedia.org/wikipedia/ru/e/ed/Resident_Evil_3_cover.jpg'\n    },\n    {\n      id: 6,\n      title: 'Sonic CD',\n      author: 'SEGA',\n      price: 39,\n      img: 'https://i.pinimg.com/originals/b3/dc/fe/b3dcfed303eb7277cd1a76604347be7d.jpg'\n    }\n  ];\n\n  getItems() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n          resolve(this.data)\n      }, 700)\n    });\n  }\n\n}","const updateItemList = (state, action) => {\r\n\r\n    if (state === undefined) {\r\n      return {\r\n        items: [],\r\n        loading: true,\r\n        error: null\r\n      };\r\n    }\r\n  \r\n    switch (action.type) {\r\n      case 'FETCH_ITEM_REQUEST':\r\n        return {\r\n          items: [],\r\n          loading: true,\r\n          error: null\r\n        };\r\n  \r\n      case 'FETCH_ITEM_SUCCESS':\r\n        return {\r\n          items: action.payload,\r\n          loading: false,\r\n          error: null\r\n        };\r\n  \r\n      case 'FETCH_ITEM_FAILURE':\r\n        return {\r\n          items: [],\r\n          loading: false,\r\n          error: action.payload\r\n        };\r\n  \r\n      default:\r\n        return state.itemList;\r\n    }\r\n  };\r\n  \r\n  export default updateItemList;","const updateCartItems = (cartItems, cartItem, idx) => {\r\n\r\n    if (cartItem.count === 0) {\r\n      return [\r\n        ...cartItems.slice(0, idx),\r\n        ...cartItems.slice(idx + 1)\r\n      ];\r\n    }\r\n  \r\n    if (idx === -1) {\r\n      return [\r\n        ...cartItems,\r\n        cartItem\r\n      ];\r\n    }\r\n  \r\n    return [\r\n      ...cartItems.slice(0, idx),\r\n      cartItem,\r\n      ...cartItems.slice(idx + 1)\r\n    ];\r\n  };\r\n  \r\n  const updateCartItem = (item, cartItem = {}, quantity) => {\r\n    const {\r\n      id = item.id,\r\n      count = 0,\r\n      title = item.title,\r\n      total = 0 } = cartItem;\r\n  \r\n    return {\r\n      id,\r\n      title,\r\n      count: count + quantity,\r\n      total: total + quantity*item.price\r\n    };\r\n  };\r\n  \r\n  const updateOrder = (state, itemId, quantity) => {\r\n    const { itemList: { items } , shoppingCart: { cartItems }} = state;\r\n  \r\n    const item = items.find(({id}) => id === itemId);\r\n    const itemIndex = cartItems.findIndex(({id}) => id === itemId);\r\n    const cartItem = cartItems[itemIndex];\r\n  \r\n    const newItem = updateCartItem(item, cartItem, quantity);\r\n    return {\r\n      orderTotal: state.shoppingCart.orderTotal+(item.price*quantity),\r\n      totalItems: state.shoppingCart.totalItems+quantity,\r\n      cartItems: updateCartItems(cartItems, newItem, itemIndex)\r\n    };\r\n  };\r\n  \r\n  const updateShoppingCart = (state, action) => {\r\n  \r\n    if (state === undefined) {\r\n      return {\r\n        cartItems: [],\r\n        orderTotal: 0,\r\n        totalItems: 0\r\n      }\r\n    }\r\n  \r\n    switch(action.type) {\r\n      case 'ITEM_ADDED_TO_CART':\r\n        return updateOrder(state, action.payload, 1);\r\n  \r\n      case 'ITEM_REMOVED_FROM_CART':\r\n        return updateOrder(state, action.payload, -1);\r\n  \r\n      case 'ALL_ITEMS_REMOVED_FROM_CART':\r\n        const cartItem = state.shoppingCart.cartItems.find(({id}) => id === action.payload);\r\n        return updateOrder(state, action.payload, -cartItem.count);\r\n  \r\n      default:\r\n        return state.shoppingCart;\r\n    }\r\n  };\r\n  \r\n  export default updateShoppingCart;","import updateItemList from './item-list';\nimport updateShoppingCart from './shopping-cart';\n\nconst reducer = (state, action) => {\n  return {\n    itemList: updateItemList(state, action),\n    shoppingCart: updateShoppingCart(state, action)\n  };\n};\n\nexport default reducer;","import { createStore } from 'redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport storeService from './services/store-service';\nimport { StoreServiceProvider } from './components/store-service-context';\n\nimport store from './store';\n\nconst DATA = new storeService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <StoreServiceProvider value={DATA}>\n        <Router>\n          <App />\n        </Router>\n      </StoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}